---
author: Sora Tonami
date: 2025/05/27
description: プロジェクトを触る準備をしよう！
layout: default
modified: 2025/05/28
title: プロジェクトを作ってみよう その2 \| ロボット制御入門 \| 制御講習
title-short: プロジェクトを作ってみよう その2
---

前回はCubeMXでプロジェクトを生成しました。\
今回はCLionでプロジェクトを開きつつ、まだやっていないであろうCLionの初期設定共をこなします。

## プロジェクトOPEN!

まずCLionを開きます。JetBrains Toolbox内からでもスタートからでもデスクトップからでもお好きにドーゾ。\
初回起動時なんか聞かれた気がしなくもないけど、取り敢えず言語に日本語、地域にアジア(中国以外)、チェックボックス系はとりま全部ONでいいと思います。知らんけど。(TODO)

で、何だかんだ進むとようこそ画面が出ます。大体こういうツールはようこそ画面がある気がする。[要出典]

![CLionのプロジェクトを開く画面]

開く(①)を押すと場所選択させられるので前回作ったプロジェクトが入ってるディレクトリを選択(②)します。\
**.iocではなく.iocが入ったディレクトリ(かその中のCMakeLists.txt)** を選択して下さい。\
OK(③)を押せばプロジェクトが読み込まれます。

![CLionのCMakeプロジェクト初回ロード時に出る画面]

ちょい待つとCLionがCMakeプロジェクトだと勝手に認識してくれるので、初回設定画面が出てきます。\
①はもうON固定でいいです。いくらか楽になります。\
諸々設定する前にインストールしたARMのツールチェーンをCLionに登録する必要があるので②を押します。

## ツールチェーン追加

![CLionのツールチェーン管理画面、ツールチェーンを追加]

そしたらツールチェーンの管理画面が出てくるので左上の＋(①)から「システム」(②)を押します。

![CLionのツールチェーン管理画面、ツールチェーンを編集]

編集できるようになるので好きな名前にして下さい。(①)\
この後すぐ使うので覚えといて下さい。

②にはぞれぞれのツールの場所を指定します。環境構築の時に**分かりやすい場所に置いたと思うので**、それぞれ指定して下さい。

ビルドツールは今回Ninja
Buildを使うのでWindows勢なら`ninja.exe`を、それ以外勢は`ninja`をフルパス(PATH通ってればフルパスじゃなくていいけど)で指定して下さい。\
Cコンパイラー・C++コンパイラー・デバッガーはArm GNU
Toolchainのヤツを使うので、コヤツのインストール先にある`arm-none-eabi-gcc`(`.exe`)・`arm-none-eabi-g++`(`.exe`)・`arm-none-eabi-gdb`(`.exe`)をそれぞれ指定して下さい。\
うまく行ってればC++コンパイラー欄の下には何も出ず、デバッガー欄の下にはデバッガーの(＝コンパイラーの)バージョン情報が出てるはずです。

ツールチェーンの設定が済んだのでOK(③)からCMakeの初期設定に戻りましょう。

## 仕上げ

![CLionのCMakeプロジェクト初回ロード時に出る画面、ツールチェーンを変更]

戻ってきたら、まず①でさっき作ったツールチェーンを選択します。プロファイル名末尾にその名前が自動で追記されます。

これで下準備は完了したのでOK(②)で閉じます。

## OpenOCD

さて、初期設定を済ませたいのでもうひと頑張りします。\
基板に実行ファイル書き込むためのソフトであるOpenOCDの場所をCLionに教えてやらねばなりません。

![CLionのエディタ画面、設定を開く]

設定は右上の歯車(①)を押して出てくるメニューにいます。「設定」(②)を押します。

![CLionの設定画面、組み込み開発設定]

CLionの設定はいくつかのカテゴリに分かれています。\
目的の場所は「ビルド、実行、デプロイ」(①)の中の「組み込み開発」(②)にあります。

各種ツールの場所を指定する欄が現れるのでOpenOCDの実行ファイルの場所を③にぶち込みます。Windowsなら`openocd.exe`、それ以外なら`openocd`の場所ですね。

すぐ下にCubeMXの場所を指定する欄(④)もあります。空欄にしといてもいいですが、ここで指定しておくとCLion上で`.ioc`を開くとCubeMXが立ち上がってくれるようになります。

終わったら⑤で閉じて下さい。これで多分全部済みました。

## 次回予告

今回はプロジェクトをCLionで開いて、ついでに初期設定まで行いました。\
これはあくまで初期設定なので、次新しくプロジェクト作るって時はCMake部分の設定だけで済みます。

あと、設定は項目がいっぱいあるので自分好みにカスタマイズしとくと捗ります。

次回はゴールにはあまり関係はないですが、エアシリンダーを動かします。

[前へ](3)・[次へ](5)

[ロボット制御入門Topへ](..#%E3%83%AD%E3%83%9C%E3%83%83%E3%83%88%E5%88%B6%E5%BE%A1%E5%85%A5%E9%96%80)

[clionのcmakeプロジェクト初回ロード時に出る画面]: /assets/lessons/program/project-open-2.png
[clionのcmakeプロジェクト初回ロード時に出る画面、ツールチェーンを変更]: /assets/lessons/program/project-open-5.png
[clionのエディタ画面、設定を開く]: /assets/lessons/program/project-open-6.png
[clionのツールチェーン管理画面、ツールチェーンを編集]: /assets/lessons/program/project-open-4.png
[clionのツールチェーン管理画面、ツールチェーンを追加]: /assets/lessons/program/project-open-3.png
[clionのプロジェクトを開く画面]: /assets/lessons/program/project-open-1.png
[clionの設定画面、組み込み開発設定]: /assets/lessons/program/project-open-7.png
